<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venta de Terrenos - Cultura Chimú</title>
    <style>
        /* Correcciones para evitar desbordamiento en móviles */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #FFFFFF;
            overflow-x: hidden; /* Previene desplazamiento horizontal */
        }

        img, iframe {
            max-width: 100%; /* Asegura que imágenes y videos no excedan el ancho */
            height: auto;
        }

        header {
            background-color: #D4AF37;
            color: #121212;
            padding: 10px 20px;
            text-align: center;
        }
        .hero {
            background-image: url('tru.avif');
            background-size: cover;
            background-position: center;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            font-size: 2.5rem;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
            text-align: center;
            position: relative;
        }

        .hero-text {
            display: flex;
            flex-direction: column; /* Hace que los párrafos se apilen verticalmente */
            align-items: center; /* Centra el texto */
            justify-content: center;
            gap: 10px; /* Añade un espacio entre los párrafos */
            position: absolute;
            top: 50%; /* Posiciona el bloque de texto en el centro vertical */
            transform: translateY(-50%); /* Asegura que esté centrado correctamente */
        }

        .hero-text p {
            margin: 0;
        }

        /* Opciones para mover el texto */
        .hero-text.left {
            left: 20px; /* Desplaza el texto hacia la izquierda */
            text-align: left;
        }

        .hero-text.right {
            right: 20px; /* Desplaza el texto hacia la derecha */
            text-align: right;
        }

        .hero-text.up {
            top: 20px; /* Mueve el texto más arriba */
            transform: translateY(0);
        }

        .hero-text.down {
            top: 80%; /* Mueve el texto más abajo */
            transform: translateY(-80%);
        }

        .container {
            padding: 20px;
            max-width: 1200px;
            margin: auto;
        }
        .section {
            margin-bottom: 40px;
        }
        .section h2 {
            color: #D4AF37;
            margin-bottom: 20px;
            border-bottom: 2px solid #D4AF37;
            display: inline-block;
            padding-bottom: 5px;
        }
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .gallery img {
            width: 100%;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(212, 175, 55, 0.5);
        }
        .mid-image {
            margin: 40px 0;
            text-align: center;
        }
        .mid-image img {
            width: 100%;
            height: auto;
            border-radius: 0;
            box-shadow: 0 2px 10px rgba(212, 175, 55, 0.5);
        }
        .video {
            text-align: center;
        }
        iframe {
            width: 100%;
            height: 315px;
            border: none;
            box-shadow: 0 2px 10px rgba(212, 175, 55, 0.5);
        }
        .map {
            height: 400px;
            width: 100%;
            box-shadow: 0 2px 10px rgba(212, 175, 55, 0.5);
        }
                /* Estilos ajustados para el mapa interactivo */
                #interactive-map-container {
            width: 100%;
            height: 600px;
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            background: #1a1a1a;
            box-shadow: 0 4px 6px rgba(212, 175, 55, 0.3);
            margin: 20px 0;
            border: 2px solid #D4AF37;
        }

        #interactive-map {
            position: absolute;
            top: 10%;
            left: 1%;
            transform-origin: center;
            transition: transform 0.2s;
            max-width: none;
            cursor: grab;
        }

        .map-panel {
            position: absolute;
            right: 10px;
            padding: 15px;
            border-radius: 8px;
            background: rgba(40, 40, 40, 0.9);
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
            font-size: 14px;
        }

        #map-controls { top: 20px; }
        #map-info { bottom: 20px; }

        .map-btn {
            padding: 10px 15px;
            border: 2px solid #D4AF37;
            border-radius: 0px;
            background: transparent;
            color: #D4AF37;
            cursor: pointer;
            transition: 0.2s;
        }

        .map-btn:hover { 
            background: #D4AF37;
            color: #121212;
        }

        .map-btn:active { 
            transform: scale(0.98); 
        }

        .map-btn:disabled { 
            background: #555;
            cursor: not-allowed;
        }
        .whatsapp-button {
            background-color: #25D366;
            color: white;
            font-size: 1.2rem;
            padding: 15px 30px;
            border-radius: 50px;
            text-align: center;
            display: inline-block;
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
        }
        .whatsapp-button:hover {
            background-color: #128C7E;
        }
        .whatsapp-button:active {
            background-color: #075E54;
        }
        .whatsapp-button.fixed {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
    </style>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.css" />
</head>
    <script src="mapa.js"></script>
<body>
    <header>
        <h1>Venta de Terrenos</h1>
    </header>

    <div class="hero" data-aos="fade-up">
        <div class="hero-text">
            <p>Tu terreno, cerca de la historia y la tradición.</p>
            <p>Oportunidades que no se repiten, adquiere tu lote hoy mismo</p>
        </div>
    </div>

    <div class="container">
        <div class="mid-image" data-aos="zoom-in" data-aos-duration="1000">
            <img src="trujillo_largo.jpg" alt="Imagen de Trujillo">
        </div>

        <div class="section" data-aos="fade-right">
            <h2>Galería</h2>
            <div class="gallery">
                <img src="trujillo.png" alt="Imagen del terreno 1" data-aos="flip-left">
                <img src="tru123.png" alt="Imagen del terreno 2" data-aos="flip-left" data-aos-delay="200">
                <img src="trujillo.png" alt="Imagen del terreno 3" data-aos="flip-left" data-aos-delay="400">
                <img src="tru123.png" alt="Imagen del terreno 4" data-aos="flip-left" data-aos-delay="600">
            </div>
        </div>

        <div class="section" data-aos="fade-up">
            <h2>Video Promocional</h2>
            <div class="video">
                <iframe src="https://www.youtube.com/watch?v=N6No3HZPhjo&ab_channel=LuisCenturi%C3%B3n" allowfullscreen></iframe>
            </div>
        </div>

        <div class="section" data-aos="fade-up">
            <h2>Ubicación</h2>
            <div id="map" class="map"></div>
        </div>

        <!-- Nueva sección del mapa interactivo -->
        <div class="section" data-aos="fade-up">
            <h2>Mapa Interactivo del Terreno</h2>
            <div id="interactive-map-container">
                <img id="interactive-map" src="mapa.svg" alt="Mapa Interactivo" draggable="false">
                
                <div id="map-controls" class="map-panel">
                    <button id="zoomIn" class="map-btn">+</button>
                    <div id="zoomLevel">100%</div>
                    <button id="zoomOut" class="map-btn">-</button>
                    <button id="reset" class="map-btn">Reset</button>
                </div>

                <div id="map-info" class="map-panel">
                    <div>Rueda del ratón: zoom</div>
                    <div>Click + arrastrar: mover</div>
                </div>
            </div>
        </div>

        <div class="section" data-aos="fade-up">
            <h2>Contacto Rápido</h2>
            <p>Si tienes alguna pregunta, no dudes en contactarnos a través de WhatsApp. ¡Estamos aquí para ayudarte!</p>
            <a href="https://wa.me/+51987654321?text=¡Hola!%20Estoy%20interesado%20en%20los%20terrenos%20que%20ofrecen." target="_blank" class="whatsapp-button">
                Contactar por WhatsApp
            </a>
        </div>
    </div>

    <footer>
        <p>© 2024 Venta de Terrenos Chimú. Todos los derechos reservados. <a href="#">Política de Privacidad</a></p>
        <a href="https://wa.me/+51987654321?text=¡Hola!%20Estoy%20interesado%20en%20los%20terrenos%20que%20ofrecen." target="_blank" class="whatsapp-button fixed">
            Contactar por WhatsApp
        </a>
    </footer>

    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <script>
        var map = L.map('map').setView([-7.946638, -79.069137], 15); // Coordenadas de Chicama
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);
        L.marker([-7.946638, -79.069137]).addTo(map)
            .bindPopup('Chicama, 13700. Terreno disponible para la venta.')
            .openPopup();

        // Mapa interactivo
        var zoomLevel = 100;
        const interactiveMap = document.getElementById("interactive-map");
        const zoomInButton = document.getElementById("zoomIn");
        const zoomOutButton = document.getElementById("zoomOut");
        const resetButton = document.getElementById("reset");

        zoomInButton.onclick = function() {
            zoomLevel += 10;
            updateZoom();
        }

        zoomOutButton.onclick = function() {
            zoomLevel -= 10;
            updateZoom();
        }

        resetButton.onclick = function() {
    zoomLevel = 100;
    offsetX = 0;  // Restablecer el desplazamiento X
    offsetY = 0;  // Restablecer el desplazamiento Y
    updateZoom();
        }

function updateZoom() {
           interactiveMap.style.transform = `scale(${zoomLevel / 100}) translate(${offsetX}px, ${offsetY}px)`;
             document.getElementById("zoomLevel").innerText = `${zoomLevel}%`;
        }

    </script>
<script>
    var isDragging = false;
    var startX, startY;
    var offsetX = 0, offsetY = 0;

    // Mover el mapa SVG con clic y arrastre
    interactiveMap.addEventListener('mousedown', function(e) {
        isDragging = true;
        startX = e.clientX - offsetX;
        startY = e.clientY - offsetY;
        interactiveMap.style.cursor = 'grabbing';
    });

    window.addEventListener('mousemove', function(e) {
        if (isDragging) {
            offsetX = e.clientX - startX;
            offsetY = e.clientY - startY;
            interactiveMap.style.transform = `scale(${zoomLevel / 100}) translate(${offsetX}px, ${offsetY}px)`;
        }
    });
    // Mover el mapa con toque en dispositivos táctiles
    // Mover el mapa con toque en dispositivos táctiles
    interactiveMap.addEventListener('touchstart', function(e) {
        isDragging = true;
        startX = e.touches[0].clientX - offsetX;
        startY = e.touches[0].clientY - offsetY;
        interactiveMap.style.cursor = 'grabbing';
        e.preventDefault();  // Prevenir el desplazamiento de la página
    });
function setInitialStateMobile() {
    // Verificar si la pantalla es móvil (ancho menor o igual a 768px)
    if (window.innerWidth <= 768) {
        this.updateBounds();
        const container = this.container.getBoundingClientRect();
        const map = this.map.getBoundingClientRect();

        // Calcular las posiciones X y Y para centrar el mapa en la pantalla
        this.state.initialX = (container.width - map.width) / 15;
        this.state.initialY = (container.height - map.height) / 2;

        // Asignar las nuevas posiciones al estado
        this.state.x = this.state.initialX;
        this.state.y = this.state.initialY;

        // Actualizar la transformación para que el mapa quede centrado
        this.updateTransform();
    }
}

// Llamar a la función para centrar el mapa cuando la ventana se carga
window.addEventListener('load', function() {
    setInitialStateMobile.call(this);
});

// Llamar a la función cuando se redimensione la ventana
window.addEventListener('resize', function() {
    setInitialStateMobile.call(this);
});

window.addEventListener('touchmove', function(e) {
    if (isDragging) {
        e.preventDefault();
        offsetX = e.touches[0].clientX - startX;
        offsetY = e.touches[0].clientY - startY;
        interactiveMap.style.transform = `scale(${zoomLevel / 100}) translate(${offsetX}px, ${offsetY}px)`;
    }
});

window.addEventListener('touchend', function() {
    isDragging = false;
    interactiveMap.style.cursor = 'grab';
});

    window.addEventListener('mouseup', function() {
        isDragging = false;
        interactiveMap.style.cursor = 'grab';
    });

    // Zoom con rueda del ratón
    interactiveMap.addEventListener('wheel', function(e) {
        e.preventDefault();
        if (e.deltaY < 0) {
            zoomLevel += 10; // Acercar
        } else {
            zoomLevel -= 10; // Alejar
        }
        zoomLevel = Math.max(50, Math.min(200, zoomLevel)); // Limitar el zoom entre 50% y 200%
        updateZoom();
    });

    function updateZoom() {
        interactiveMap.style.transform = `scale(${zoomLevel / 100}) translate(${offsetX}px, ${offsetY}px)`;
        document.getElementById("zoomLevel").innerText = `${zoomLevel}%`;
    }
</script>

    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
</body>
</html>
